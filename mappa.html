<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mappa Dinamica</title>
    <style>
        .mappa-container { width: 100%; max-width: 600px; max-height: 300px; margin: auto; }
        iframe { width: 100%; height: 100%; border: 0; }
    </style>
</head>
<body>
    <div class="mappa-container">
        <iframe id="map" src="" allowfullscreen></iframe>
    </div>

    <script>
        // Funzione per ottenere la posizione dell'utente
        function getLocation() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(showMap);
            } else {
                alert("Geolocalizzazione non supportata dal tuo browser.");
            }
        }

        // Funzione per mostrare la mappa basata sulla posizione
        function showMap(position) {
            var lat = position.coords.latitude;
            var lon = position.coords.longitude;
            var mapURL = "https://www.openstreetmap.org/export/embed.html?bbox=" + (lon - 0.05) + "%2C" + (lat - 0.05) + "%2C" + (lon + 0.05) + "%2C" + (lat + 0.05) + "&layer=mapnik";
            document.getElementById("map").src = mapURL; // Imposta l'iframe con la nuova URL
        }

        // Chiamata alla funzione per ottenere la posizione
        getLocation();
    </script>
</body>
</html>

