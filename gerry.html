<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Il Cartaio - Cometa</title>

<style>
*{margin:0;padding:0;box-sizing:border-box}

body,html{
  height:100vh;
  overflow:hidden;
  background:#000;
  display:flex;
  justify-content:center;
  align-items:center;
  font-family:Arial,sans-serif;
}

.container{
  position:relative;
  width:1330px;
  height:486px;
  text-align:center;
}

/* VIDEO */
.vid{
  position:absolute;
  width:330px;
  height:486px;
  object-fit:cover;
  border-radius:10px;
  box-shadow:0 0 20px rgba(255,0,0,.7);
  z-index:2;
}

.left{left:-40px;top:0}
.right{right:-40px;top:0}

.center{
  position:absolute;
  left:50%;
  top:0;
  transform:translateX(-50%);
  width:728px;
  height:486px;
  z-index:3;
  border:3px solid #ff0000;
  border-radius:12px;
  box-shadow:0 0 30px rgba(255,0,0,0.8);
  animation:fade 20s infinite;
}

@keyframes fade{
  0%,40%{opacity:1}
  50%,90%{opacity:0}
  100%{opacity:1}
}

/* PULSANTI STELLA */
.star-btn{
  background: radial-gradient(circle, #ff2020 0%, #a00000 80%);
  color:#fff;
  border:none;
  clip-path: polygon(
    50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%,
    50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%
  );
  width:80px;
  height:80px;
  font-weight:bold;
  font-size:13px;
  text-shadow:0 0 10px #fff;
  cursor:pointer;
  box-shadow:0 0 30px #ff0000;
  transition:.3s;
  animation:rotateStar 6s linear infinite, glow 2s ease-in-out infinite alternate;
}

.star-btn:hover{
  transform:scale(1.2) rotate(10deg);
  box-shadow:0 0 60px #ff3333;
}

@keyframes rotateStar{
  from{transform:rotate(0deg)}
  to{transform:rotate(360deg)}
}

@keyframes glow{
  0%{filter:drop-shadow(0 0 10px #ff0000)}
  100%{filter:drop-shadow(0 0 30px #ff5555)}
}

/* CONTROLLI (XAT SAFE) */
.controls{
  position:absolute;
  bottom:25px;
  left:50%;
  transform:translateX(-50%);
  display:flex;
  flex-direction:column;
  align-items:center;
  z-index:9999;
  pointer-events:auto;
}

.buttons{
  display:flex;
  gap:40px;
  justify-content:center;
  align-items:center;
}

/* SLIDER */
input[type=range]{
  width:200px;
  appearance:none;
  height:6px;
  background:#300;
  border-radius:5px;
  outline:none;
  box-shadow:0 0 10px red;
}

input[type=range]::-webkit-slider-thumb{
  appearance:none;
  width:18px;
  height:18px;
  border-radius:50%;
  background:#ff0000;
  box-shadow:0 0 20px #ff0000;
  cursor:pointer;
}

/* MARQUEE */
.marquee{
  color:#ff2020;
  font-size:22px;
  font-weight:bold;
  text-shadow:0 0 12px #fff;
  margin-bottom:15px;
}

/* CANVAS */
canvas{
  position:fixed;
  top:0;
  left:0;
  pointer-events:none;
}

#stars-canvas{z-index:1}
#snow-canvas{z-index:4}
#comet-canvas{z-index:5}

</style>
</head>

<body>

<div class="container">

  <video class="vid left" autoplay loop muted playsinline preload="auto">
    <source src="https://peppeagosto.github.io/immaggini/25.mp4" type="video/mp4">
  </video>

  <video class="vid center" autoplay loop muted playsinline preload="auto">
    <source src="https://peppeagosto.github.io/immaggini/babbo.mp4" type="video/mp4">
  </video>

  <video class="vid right" autoplay loop muted playsinline preload="auto">
    <source src="https://peppeagosto.github.io/immaggini/25.mp4" type="video/mp4">
  </video>

</div>

<!-- CONTROLLI -->
<div class="controls">

  <marquee class="marquee" behavior="alternate" scrollamount="5">
    ðŸŽ… GERRY SCOTTI DA IL BUON NATALE ðŸŽ„
  </marquee>

  <div class="buttons">
    <button class="star-btn" id="playBtn">PLAY</button>
    <input type="range" id="volumeSlider" min="0" max="1" step="0.01" value="1">
    <button class="star-btn" id="stopBtn">STOP</button>
  </div>

</div>

<!-- AUDIO -->
<audio id="gerry" preload="auto">
  <source src="https://peppeagosto.github.io/immaggini/25.mp3" type="audio/mpeg">
</audio>

<canvas id="stars-canvas"></canvas>
<canvas id="snow-canvas"></canvas>
<canvas id="comet-canvas"></canvas>

<script>
/* AUDIO â€“ XAT OK */
const audio = document.getElementById("gerry");
const volumeSlider = document.getElementById("volumeSlider");
const playBtn = document.getElementById("playBtn");
const stopBtn = document.getElementById("stopBtn");

playBtn.addEventListener("click", () => {
  audio.currentTime = 0;
  audio.play().catch(()=>{});
});

stopBtn.addEventListener("click", () => {
  audio.pause();
  audio.currentTime = 0;
});

volumeSlider.addEventListener("input", () => {
  audio.volume = volumeSlider.value;
});

/* === TUTTO IL RESTO CANVAS IDENTICO === */
/* stelle */
const canvases=['stars-canvas','snow-canvas','comet-canvas'].map(id=>document.getElementById(id));
const ctxs=canvases.map(c=>c.getContext('2d'));
const [sctx,nctx,cctx]=ctxs;
const resize=()=>canvases.forEach(c=>{c.width=innerWidth;c.height=innerHeight});
resize();window.onresize=resize;

const stars=[],numStars=160;
class Star{
  constructor(){this.reset()}
  reset(){
    this.size=Math.random()*3.2+1;
    this.x=Math.random()*innerWidth;
    this.y=-60;
    this.speed=Math.random()*1.8+0.6;
    this.time=0;
    this.duration=Math.random()*18+12;
    this.phase=Math.random()*Math.PI*2;
  }
  update(){
    this.time+=0.016;
    this.y+=this.speed;
    if(this.time>this.duration||this.y>innerHeight+60)this.reset();
  }
  draw(){
    const pulse=0.75+0.25*Math.sin(this.time*6+this.phase);
    sctx.globalAlpha=pulse;
    sctx.shadowBlur=22;
    sctx.shadowColor='#fff';
    sctx.beginPath();
    sctx.arc(this.x,this.y,this.size,0,Math.PI*2);
    sctx.fillStyle='#fff';
    sctx.fill();
  }
}
for(let i=0;i<numStars;i++)stars.push(new Star());
(function animStars(){
  sctx.clearRect(0,0,innerWidth,innerHeight);
  stars.forEach(s=>{s.update();s.draw()});
  requestAnimationFrame(animStars);
})();
</script>

</body>
</html>




